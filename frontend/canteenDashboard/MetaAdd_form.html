
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Menu Item</title>
    <link rel="stylesheet" href="Menu_form.css">
</head>
<body>
    <div class="menu-form-container">
        <form class="menu-form" id="menuForm">
            <h2>Add New Menu Item</h2>
            
            <div class="form-group">
                <label for="itemName">Item Name</label>
                <input type="text" id="itemName" name="itemName" class="input-field" required>
            </div>

            <div class="form-group">
                <label for="itemDesc">Description</label>
                <textarea id="itemDesc" name="itemDesc" class="textarea-field" rows="3" required></textarea>
            </div>

            <div class="form-group">
                <label for="itemPrice">Price (Rs)</label>
                <input type="number" id="itemPrice" name="itemPrice" class="input-field" step="0.01" required>
            </div>

           <div class="form-group">
            <label>Type</label>
            <div class="radio-group">
                <div class="radio-option">
                    <input type="radio" id="typeVeg" name="itemType" value="veg" required>
                    <label for="typeVeg">Vegetarian</label>
                </div>
                <div class="radio-option">
                    <input type="radio" id="typeNonVeg" name="itemType" value="non-veg">
                    <label for="typeNonVeg">Non-Vegetarian</label>
                </div>
            </div>
        </div>
            <div class="checkbox-row">
                <input type="checkbox" id="itemAvailable" name="itemAvailable" checked>
                <label for="itemAvailable">Available</label>
            </div>

            <div class="form-actions">
                <button type="button" class="cancel-btn" onclick="window.parent.closeModal()">Cancel</button>
                <button type="submit" class="primary-btn">Add Item</button>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('menuForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = {
                item_name: this.itemName.value,
                price: parseFloat(this.itemPrice.value),
                type: this.itemType.value === 'veg' ? 'Veg' : 'Non-Veg',
                status: this.itemAvailable.checked ? 'Available' : 'Unavailable',
                canteen_id: (window.parent && window.parent.CANTEEN_ID) ? window.parent.CANTEEN_ID : 3
            };
            window.parent.postMessage({
                type: 'formSubmission',
                formData: formData
            }, '*');
        });
        // Add live status update
    document.getElementById('itemAvailable').addEventListener('change', function(e) {
        const status = this.checked ? 'Available' : 'Unavailable';
        console.log('Status changed to:', status);
    });
    </script>
</body>
</html>